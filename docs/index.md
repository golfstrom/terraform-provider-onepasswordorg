---
layout: ""
page_title: "onepasswordorg Provider"
description: |-
  The Onepassword organization provider is used to interact with 1password organization resources (users, groups...)
---

# onepasswordorg Provider

This is a fork of slok/onepasswordorg, it adds the onepasswordorg_item resource for managing items.


The Onepassword organization provider is used to interact with 1password organization resources (users, groups...)
Normally this provider will be used to automate the user and groups management like user onboard/offboards or
grouping users into teams (groups in 1password).

## Requirements
This provider needs [op](https://1password.com/downloads/command-line/) v2.x Cli, thats why it doesn't use 1password connect
API and needs a real 1password account as the authentication.
## Authentication
Needs a real 1password account so the provider can use the "password" and "secret key" of that account.
A recommended way would be creating an account in the 1password organization/company only for automation
like Terraform (used by this provider).
## Terraform cloud
The provider will detect that its executing in terraform cloud and will use the embedded op CLI for this purpose
so it satisfies the op Cli requirement inside Terraform cloud workers.

## Example Usage

```terraform
terraform {
  required_providers {
    onepasswordorg = {
      source = "slok/onepasswordorg"
    }
  }
}

provider "onepasswordorg" {
  address = "mycompany.1password.com"
  email   = "bot+onepassword@mycompany.com"

  # Or use `OP_SECRET_KEY` env var.
  secret_key = var.op_secret_key

  # Or use `OP_PASSWORD` env var.
  password = var.op_password
}

resource "onepasswordorg_user" "test" {
  name  = "A test account"
  email = "test@mycompany.com"
}

resource "onepasswordorg_group" "test" {
  name        = "test-tf"
  description = "Group for testing terraform cloud"
}

resource "onepasswordorg_group_member" "test_test" {
  group_id = onepasswordorg_group.test.id
  user_id  = onepasswordorg_user.test.id
  role     = "member"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `address` (String) Set account 1password domain address (e.g: something.1password.com). Also `OP_ADDRESS` env var can be used.
- `email` (String) Set account 1password email. Also `OP_EMAIL` env var can be used.
- `fake_storage_path` (String) File to a path where the provider will store the data as if it is 1password (this is used only on development). Also `OP_FAKE_STORAGE_PATH` env var can be used.
- `op_cli_path` (String) The path that points to the op cli binary. Also `OP_CLI_PATH` env var can be used. (by default `op` on system path, ignored if run in Terraform cloud).
- `password` (String, Sensitive) Set account 1password password. Also `OP_PASSWORD` env var can be used.
- `secret_key` (String, Sensitive) Set account 1password secret key. Also `OP_SECRET_KEY` env var can be used.